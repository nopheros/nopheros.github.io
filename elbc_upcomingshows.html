<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Upcoming Everlook Broadcasting Co. Shows">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Title -->
    <title>Upcoming Everlook Broadcasting Co. Shows — DJ NOPHEROS</title>

    <!-- Favicon -->
    <link rel="icon" href="/video/nopheros_glitchlogo_transparent.gif" type="image/gif">
    <link rel="icon" href="/video/nopheros_glitchlogo_transparent.gif" sizes="any">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">

    <style>
      html, body { background-color: #000 !important; color: #fff; }
      .page-main { padding: 120px 0; text-align: center; }
      .page-main h1 { color: #fff; letter-spacing: 6px; font-family: "Archivo Narrow", sans-serif; font-weight:700; }
      .page-main p { color: #dcdcdc; max-width: 900px; margin: 0 auto 40px; line-height:1.8; }
      .calendar-wrap { display:flex; justify-content:center; }
      .calendar-embed { width:100%; max-width:1000px; height:800px; border:1px solid rgba(255,255,255,0.06); }
      .tz-controls { display:inline-flex; justify-content:center; gap:0; align-items:center; margin-bottom:30px; flex-wrap:nowrap; }
      .tz-controls > * { margin:0; }
      .tz-controls label { margin-right:8px; }
      .tz-controls select, .tz-controls input { background:#111; color:#fff; border:1px solid rgba(255,255,255,0.06); padding:8px 10px; border-radius:6px; margin:0; }
      .tz-controls .oneMusic-btn { background:transparent; border:1px solid rgba(255,255,255,0.08); color:#fff; padding:8px 12px; border-radius:6px; cursor:pointer; margin:0 0 0 8px; }
      @media (max-width: 991px){ .calendar-embed { height:700px; } }
      @media (max-width: 480px){ .calendar-embed { height:620px; } }
    </style>
</head>

<body>
    <!-- header (re-used consistent header) -->
    <header class="header-area">
        <div class="oneMusic-main-menu">
            <div class="classy-nav-container breakpoint-off">
                <div class="container">
                    <nav class="classy-navbar justify-content-between" id="oneMusicNav">
                        <a href="/index.html" class="nav-brand nav-brand-text">DJ NOPHEROS</a>
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>
                        <div class="classy-menu">
                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>
                            <div class="classynav">
                                <ul>
                                    <li><a href="/index.html">home</a></li>
                                    <li><a href="#">media</a>
                                        <ul class="dropdown">
                                            <li><a href="latest.html">vods & clips</a></li>
                                            <li><a href="spotify.html">spotify</a></li>
                                            <li><a href="patreon.html">patreon</a></li>
                                        </ul>
                                    </li>

                                    <li><a href="#">everlook broadcasting</a>
                                        <ul class="dropdown">
                                            <li><a href="/elbc_upcomingshows.html">upcoming shows</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="/writing.html">writing</a></li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <main class="page-main">
      <div class="container">
        <h1>Upcoming Everlook Broadcasting Co. Shows</h1>
                <p>Live schedule for Everlook Broadcasting Company. If the calendar does not load, try opening it directly in a new tab.</p>

                <div class="tz-controls" aria-hidden="false">
                    <label for="tzSelect" style="color:#ddd;">Timezone:</label>
                    <select id="tzSelect" aria-label="Select timezone">
                        <option value="AUTO">Automatic (browser)</option>
                        <option value="UTC">UTC</option>
                        <option value="America/New_York">America / New_York</option>
                        <option value="America/Los_Angeles">America / Los_Angeles</option>
                        <option value="Europe/London">Europe / London</option>
                        <option value="Europe/Berlin">Europe / Berlin</option>
                        <option value="Asia/Tokyo">Asia / Tokyo</option>
                        <option value="Australia/Sydney">Australia / Sydney</option>
                        <option value="OTHER">Other…</option>
                    </select>

                    <input id="tzOther" type="text" placeholder="Enter IANA timezone e.g. Pacific/Auckland" style="display:none;" />

                    <button id="openCalendar" class="oneMusic-btn">Open in Google Calendar</button>
                </div>

                <div class="calendar-wrap">
                    <iframe class="calendar-embed" src="https://calendar.google.com/calendar/embed?src=3ca3313af031d22bb22859954819396567d21792510e9c26151fdbfee803ffb5%40group.calendar.google.com&ctz=UTC&mode=MONTH&showTitle=0&showNav=1&showDate=1&showPrint=0&showTabs=0&showCalendars=0&showTz=0" style="border:0" frameborder="0" scrolling="no" aria-label="Everlook Broadcasting Calendar"></iframe>
                </div>

      </div>
    </main>

    <footer class="footer-area">
        <div class="container">
            <div class="row d-flex flex-wrap align-items-center">
                <div class="col-12 col-md-6">
                    <a href="/index.html" class="footer-brand">DJ NOPHEROS</a>
                    <p class="copywrite-text">Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | You're gonna carry that weight</p>
                </div>

                <div class="col-12 col-md-6">
                    <div class="footer-nav">
                        <ul>
                            <li><a href="/index.html">home</a></li>
                            <li><a href="#">media</a></li>
                            <li><a href="/elbc_upcomingshows.html">everlook broadcasting</a></li>
                            <li><a href="/writing.html">writing</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

        <script src="js/jquery/jquery-2.2.4.min.js"></script>
        <script src="js/bootstrap/popper.min.js"></script>
        <script src="js/bootstrap/bootstrap.min.js"></script>
        <script src="js/plugins/plugins.js"></script>
        <script src="js/active.js"></script>

        <script>
            (function(){
                const iframe = document.querySelector('.calendar-embed');
                const tzSelect = document.getElementById('tzSelect');
                const tzOther = document.getElementById('tzOther');
                const openBtn = document.getElementById('openCalendar');

                function detectTZ(){
                    try{ return Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC'; }catch(e){ return 'UTC'; }
                }

                function getSavedTz(){ return localStorage.getItem('elbc_tz'); }

                function setIframeTz(tz){
                    if(!iframe) return;
                    try{
                        const url = new URL(iframe.src);
                        url.searchParams.set('ctz', tz);
                        iframe.src = url.toString();
                    }catch(e){
                        // fallback: replace ctz parameter manually
                        iframe.src = iframe.src.replace(/([&?]ctz=)[^&]*/,'$1'+encodeURIComponent(tz));
                    }
                }

                function updateOpenHref(){
                    if(!openBtn || !iframe) return;
                    openBtn.onclick = function(){ window.open(iframe.src.replace(/&amp;/g,'&'), '_blank'); };
                }

                function applySelection(value){
                    if(value === 'AUTO'){
                        tzOther.style.display = 'none';
                        const tz = detectTZ();
                        setIframeTz(tz);
                        localStorage.removeItem('elbc_tz');
                    } else if(value === 'OTHER'){
                        tzOther.style.display = '';
                        tzOther.focus();
                        const custom = tzOther.value.trim() || detectTZ();
                        setIframeTz(custom);
                        localStorage.setItem('elbc_tz', custom);
                    } else {
                        tzOther.style.display = 'none';
                        setIframeTz(value);
                        localStorage.setItem('elbc_tz', value);
                    }
                    updateOpenHref();
                }

                // initialize
                (function init(){
                    const saved = getSavedTz();
                    const autoTz = detectTZ();
                    if(saved){
                        // if saved matches one of options, select it
                        const found = Array.from(tzSelect.options).some(opt => opt.value === saved);
                        if(found){ tzSelect.value = saved; tzOther.style.display = 'none'; setIframeTz(saved); }
                        else { tzSelect.value = 'OTHER'; tzOther.style.display = ''; tzOther.value = saved; setIframeTz(saved); }
                    } else {
                        // default to automatic
                        tzSelect.value = 'AUTO'; tzOther.style.display = 'none'; setIframeTz(autoTz);
                    }

                    tzSelect.addEventListener('change', function(e){
                        applySelection(e.target.value);
                    });

                    tzOther.addEventListener('change', function(){
                        const v = tzOther.value.trim() || detectTZ();
                        localStorage.setItem('elbc_tz', v);
                        setIframeTz(v);
                        updateOpenHref();
                    });

                    updateOpenHref();
                })();

            })();
        </script>
</body>

</html>
